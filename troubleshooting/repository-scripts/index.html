



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://www.opensciencegrid.org/operations/troubleshooting/repository-scripts/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.4">
    
    
      
        <title>Repository scripts - OSG Operations</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#troubleshooting-guide-for-yum-repository-scripts" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://www.opensciencegrid.org/operations/" title="OSG Operations" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                OSG Operations
              </span>
              <span class="md-header-nav__topic">
                Repository scripts
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/opensciencegrid/operations/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://www.opensciencegrid.org/operations/" title="OSG Operations" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    OSG Operations
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/opensciencegrid/operations/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../WeeklyTemplate/" title="Operations Meeting February 20, 2017" class="md-nav__link">
      Operations Meeting February 20, 2017
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../external-oasis-repos/" title="External oasis repos" class="md-nav__link">
      External oasis repos
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../privacy/" title="Privacy" class="md-nav__link">
      Privacy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      SLA
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        SLA
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/ReleaseSchedule/" title="GOC Release Schedule Guidelines" class="md-nav__link">
      GOC Release Schedule Guidelines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/ServiceTypeDefinition/" title="OSG Service Types" class="md-nav__link">
      OSG Service Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/cadist/" title="OSG Certificate Authority Distribution and Software Cache Service Level Agreement" class="md-nav__link">
      OSG Certificate Authority Distribution and Software Cache Service Level Agreement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/cilogon/" title="CILogon Service Level Agreement" class="md-nav__link">
      CILogon Service Level Agreement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/collector/" title="GOC Condor Collector Service Level Agreement" class="md-nav__link">
      GOC Condor Collector Service Level Agreement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/display/" title="OSG Display Service Level Agreement -- *DRAFT*" class="md-nav__link">
      OSG Display Service Level Agreement -- *DRAFT*
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/docrepo/" title="OSG Document Repository Service Level Agreement -- *DRAFT*" class="md-nav__link">
      OSG Document Repository Service Level Agreement -- *DRAFT*
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/event/" title="RabbitMQ Message Bus Service Level Agreement" class="md-nav__link">
      RabbitMQ Message Bus Service Level Agreement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/glidein/" title="Glide-In Factory Service Level Agreement" class="md-nav__link">
      Glide-In Factory Service Level Agreement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/gocfp/" title="OSG Ticket Exchange Service Level Agreement -- *DRAFT*" class="md-nav__link">
      OSG Ticket Exchange Service Level Agreement -- *DRAFT*
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/jira/" title="Jira" class="md-nav__link">
      Jira
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/myosg/" title="MyOSG Service Level Agreement" class="md-nav__link">
      MyOSG Service Level Agreement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/oasis-replica/" title="OASIS Replica Service Level Agreement" class="md-nav__link">
      OASIS Replica Service Level Agreement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/oasis/" title="OASIS Service Level Agreement -- *DRAFT*" class="md-nav__link">
      OASIS Service Level Agreement -- *DRAFT*
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/oim/" title="OSG Information Management Service Level Agreement" class="md-nav__link">
      OSG Information Management Service Level Agreement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/osgconnect/" title="*OSG Connect Service Level Agreement*" class="md-nav__link">
      *OSG Connect Service Level Agreement*
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/osgweb/" title="OSG Web Portal Service Level Agreement -- *DRAFT*" class="md-nav__link">
      OSG Web Portal Service Level Agreement -- *DRAFT*
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/perfsonar/" title="OSG PerfSonar Service Level Agreement" class="md-nav__link">
      OSG PerfSonar Service Level Agreement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/rpmdist/" title="Rpmdist" class="md-nav__link">
      Rpmdist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/servicedesk/" title="GOC Service Desk Service Level Agreement" class="md-nav__link">
      GOC Service Desk Service Level Agreement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/test/" title="Procedures for handling OASIS externally-hosted CVMFS repositories" class="md-nav__link">
      Procedures for handling OASIS externally-hosted CVMFS repositories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/ticket/" title="OSG Public Ticketing Tools Service Level Agreement -- *DRAFT*" class="md-nav__link">
      OSG Public Ticketing Tools Service Level Agreement -- *DRAFT*
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../SLA/xdlogin/" title="XD-Login Service Level Agreement" class="md-nav__link">
      XD-Login Service Level Agreement
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      ServiceManagement
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        ServiceManagement
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ServiceManagement/ResponsibilityMatrix/" title="Responsibility Matrix" class="md-nav__link">
      Responsibility Matrix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ServiceManagement/placeholder/" title="Placeholder" class="md-nav__link">
      Placeholder
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      ServiceCatalog
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        ServiceCatalog
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ServiceManagement/ServiceCatalog/SC_Display/" title="Service Catalog for the OSG Display Service" class="md-nav__link">
      Service Catalog for the OSG Display Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ServiceManagement/ServiceCatalog/SC_GRACC/" title="Service Catalog for the OSG GRACC (Accounting) Service" class="md-nav__link">
      Service Catalog for the OSG GRACC (Accounting) Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ServiceManagement/ServiceCatalog/SC_GlideInFactory/" title="Service Catalog for the OSG GlideIn Factory Service" class="md-nav__link">
      Service Catalog for the OSG GlideIn Factory Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ServiceManagement/ServiceCatalog/SC_HostedCE/" title="Service Catalog for the OSG Hosted-CE Service" class="md-nav__link">
      Service Catalog for the OSG Hosted-CE Service
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ServiceManagement/ServiceCatalog/SC_OIM/" title="Service Catalog for the OSG Information Management (OIM) Service" class="md-nav__link">
      Service Catalog for the OSG Information Management (OIM) Service
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4" type="checkbox" id="nav-6-4">
    
    <label class="md-nav__link" for="nav-6-4">
      ServiceProfile
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-4">
        ServiceProfile
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ServiceManagement/ServiceProfile/SP_Display/" title="Service Portfolio for the OSG Display Service" class="md-nav__link">
      Service Portfolio for the OSG Display Service
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      WeeklyMinutes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        WeeklyMinutes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/01May2017/" title="Operations Meeting May 1st, 2017" class="md-nav__link">
      Operations Meeting May 1st, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/02Apr2018/" title="02Apr2018" class="md-nav__link">
      02Apr2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/02Oct2017/" title="Operations Meeting October 2nd, 2017" class="md-nav__link">
      Operations Meeting October 2nd, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/03Apr2017/" title="Operations Meeting April 3, 2017" class="md-nav__link">
      Operations Meeting April 3, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/03Jul2017/" title="Operations Meeting July 3rd, 2017" class="md-nav__link">
      Operations Meeting July 3rd, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/04Dec2017/" title="Operations Meeting December 4th, 2017" class="md-nav__link">
      Operations Meeting December 4th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/05Feb2018/" title="Operations Meeting February 5th, 2018" class="md-nav__link">
      Operations Meeting February 5th, 2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/05Jun2017/" title="Operations Meeting June 5th, 2017" class="md-nav__link">
      Operations Meeting June 5th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/05Mar2018/" title="05Mar2018" class="md-nav__link">
      05Mar2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/06Nov2017/" title="Operations Meeting November 6th, 2017" class="md-nav__link">
      Operations Meeting November 6th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/07Aug2017/" title="Operations Meeting August 7th, 2017" class="md-nav__link">
      Operations Meeting August 7th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/08Jan2018/" title="Operations Meeting January 8th, 2018" class="md-nav__link">
      Operations Meeting January 8th, 2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/08May2017/" title="Operations Meeting May 8th, 2017" class="md-nav__link">
      Operations Meeting May 8th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/09Apr2018/" title="09Apr2018" class="md-nav__link">
      09Apr2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/09Oct2017/" title="Operations Meeting October 9th, 2017" class="md-nav__link">
      Operations Meeting October 9th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/10Apr2017/" title="Operations Meeting Apr 10, 2017" class="md-nav__link">
      Operations Meeting Apr 10, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/10Jul2017/" title="Operations Meeting July 10th, 2017" class="md-nav__link">
      Operations Meeting July 10th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/11Dec2017/" title="Operations Meeting December 11th, 2017" class="md-nav__link">
      Operations Meeting December 11th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/11Sep2017/" title="Operations Meeting September 11th, 2017" class="md-nav__link">
      Operations Meeting September 11th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/12Feb2018/" title="Operations Meeting February 12th, 2018" class="md-nav__link">
      Operations Meeting February 12th, 2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/12Jun2017/" title="Operations Meeting June 12th, 2017" class="md-nav__link">
      Operations Meeting June 12th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/12Mar2018/" title="12Mar2018" class="md-nav__link">
      12Mar2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/13Mar2017/" title="Operations Meeting March 13, 2017" class="md-nav__link">
      Operations Meeting March 13, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/13Nov2017/" title="Operations Meeting November 13th, 2017" class="md-nav__link">
      Operations Meeting November 13th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/14Aug2017/" title="Operations Meeting August14th, 2017" class="md-nav__link">
      Operations Meeting August14th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/15May2017/" title="Operations Meeting May 15th, 2017" class="md-nav__link">
      Operations Meeting May 15th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/16Apr2018/" title="16Apr2018" class="md-nav__link">
      16Apr2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/16Oct2017/" title="Operations Meeting October 16th, 2017" class="md-nav__link">
      Operations Meeting October 16th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/17Apr2017/" title="Operations Meeting Apr 17, 2017" class="md-nav__link">
      Operations Meeting Apr 17, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/17Jul2017/" title="Operations Meeting July 17th, 2017" class="md-nav__link">
      Operations Meeting July 17th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/18Dec2017/" title="Operations Meeting December 18th, 2017" class="md-nav__link">
      Operations Meeting December 18th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/18Sep2017/" title="Operations Meeting September 18th, 2017" class="md-nav__link">
      Operations Meeting September 18th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/19Feb2018/" title="Operations Meeting February 19th, 2018" class="md-nav__link">
      Operations Meeting February 19th, 2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/19Jun2017/" title="Operations Meeting June 19th, 2017" class="md-nav__link">
      Operations Meeting June 19th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/20Mar2017/" title="Operations Meeting March 20, 2017" class="md-nav__link">
      Operations Meeting March 20, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/20Nov2017/" title="Operations Meeting November 20th, 2017" class="md-nav__link">
      Operations Meeting November 20th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/21Aug2017/" title="Operations Meeting August14th, 2017" class="md-nav__link">
      Operations Meeting August14th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/22Jan2018/" title="Operations Meeting January 22nd, 2018" class="md-nav__link">
      Operations Meeting January 22nd, 2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/22May2017/" title="Operations Meeting May 22nd, 2017" class="md-nav__link">
      Operations Meeting May 22nd, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/23Apr2018/" title="23Apr2018" class="md-nav__link">
      23Apr2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/23Oct2017/" title="Operations Meeting October 23rd, 2017" class="md-nav__link">
      Operations Meeting October 23rd, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/24Apr2017/" title="Operations Meeting Apr 24, 2017" class="md-nav__link">
      Operations Meeting Apr 24, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/24Jul2017/" title="Operations Meeting July 24th, 2017" class="md-nav__link">
      Operations Meeting July 24th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/25Sep2017/" title="Operations Meeting September 25th, 2017" class="md-nav__link">
      Operations Meeting September 25th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/26Feb2018/" title="Operations Meeting February 26th, 2018" class="md-nav__link">
      Operations Meeting February 26th, 2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/26Jun2017/" title="Operations Meeting June 26th, 2017" class="md-nav__link">
      Operations Meeting June 26th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/26Mar2018/" title="26Mar2018" class="md-nav__link">
      26Mar2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/27Feb2017/" title="Operations Meeting February 27, 2017" class="md-nav__link">
      Operations Meeting February 27, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/27Mar2017/" title="Operations Meeting March 27, 2017" class="md-nav__link">
      Operations Meeting March 27, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/27Nov2017/" title="Operations Meeting November 27th, 2017" class="md-nav__link">
      Operations Meeting November 27th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/28Aug2017/" title="Operations Meeting August 28th, 2017" class="md-nav__link">
      Operations Meeting August 28th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/29Jan2018/" title="Operations Meeting January 29th, 2018" class="md-nav__link">
      Operations Meeting January 29th, 2018
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/30Oct2017/" title="Operations Meeting October 30th, 2017" class="md-nav__link">
      Operations Meeting October 30th, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/31Jul2017/" title="Operations Meeting July 31st, 2017" class="md-nav__link">
      Operations Meeting July 31st, 2017
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/Canceled/" title="No meeting this week due to the holiday." class="md-nav__link">
      No meeting this week due to the holiday.
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../WeeklyMinutes/MeetingIndex/" title="Operations Meeting Weekly Index" class="md-nav__link">
      Operations Meeting Weekly Index
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Services
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Services
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../services/ce-monitoring-dashboards/" title="Ce monitoring dashboards" class="md-nav__link">
      Ce monitoring dashboards
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../services/finalize-cache-registration/" title="Finalize cache registration" class="md-nav__link">
      Finalize cache registration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../services/gracc-corrections/" title="Gracc corrections" class="md-nav__link">
      Gracc corrections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../services/hosted-ce-definitions/" title="Hosted ce definitions" class="md-nav__link">
      Hosted ce definitions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../services/install-gwms-factory/" title="Install gwms factory" class="md-nav__link">
      Install gwms factory
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../services/sending-announcements/" title="Sending announcements" class="md-nav__link">
      Sending announcements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../services/topology-contacts-data/" title="Topology contacts data" class="md-nav__link">
      Topology contacts data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../services/topology/" title="Topology" class="md-nav__link">
      Topology
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" checked>
    
    <label class="md-nav__link" for="nav-9">
      Troubleshooting
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Troubleshooting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Repository scripts
      </label>
    
    <a href="./" title="Repository scripts" class="md-nav__link md-nav__link--active">
      Repository scripts
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#monitoring" title="Monitoring" class="md-nav__link">
    Monitoring
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-and-mitigation" title="Troubleshooting and Mitigation" class="md-nav__link">
    Troubleshooting and Mitigation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#identifying-and-fixing-a-hung-mash-process" title="Identifying and fixing a hung mash process" class="md-nav__link">
    Identifying and fixing a hung mash process
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#monitoring" title="Monitoring" class="md-nav__link">
    Monitoring
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-and-mitigation" title="Troubleshooting and Mitigation" class="md-nav__link">
    Troubleshooting and Mitigation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#identifying-and-fixing-a-hung-mash-process" title="Identifying and fixing a hung mash process" class="md-nav__link">
    Identifying and fixing a hung mash process
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/opensciencegrid/operations/edit/master/docs/troubleshooting/repository-scripts.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="troubleshooting-guide-for-yum-repository-scripts">Troubleshooting Guide for Yum Repository Scripts</h1>
<p>The <em>repo.opensciencegrid.org</em> and <em>repo-itb.opensciencegrid.org</em> hosts contain the OSG Yum software repositories plus related services and tools. In particular, the <em>mash</em> software is used to download RPMs from where they are built (at the University of Wisconsin–Madison), and there are some associated scripts to configure and invoke <em>mash</em> periodically. Use this guide to monitor the <em>mash</em> system for problems and to perform basic troubleshooting when such problems arise.</p>
<h2 id="monitoring">Monitoring</h2>
<p>To monitor the repository hosts for proper <em>mash</em> operation, do the following steps on each host:</p>
<ol>
<li><code>ssh</code> to repo.opensciencegrid.org and <code>cd</code> into <code>/var/log/repo</code> to view logs from <em>mash</em> updates</li>
<li>Examine the “Last modified” timestamp of all of the <em>update_repo.*.log</em> files</li>
<li>If the timestamps are all less than 2 hours old, life is good and you can skip the remaining steps below</li>
<li>Otherwise, examine the “Last modified” timestamp of the <em>update_all_repos.err</em> file</li>
<li>If the <em>update_all_repos.err</em> timestamp is current, there may be a <em>mash</em> process that is hung; see the <a href="#troubleshooting-and-mitigation">Troubleshooting steps below</a></li>
<li>If <strong>all</strong> timestamps are more than 6 hours old, something may be wrong with cron or its mash entries:<ol>
<li>Verify that cron is running and that the cron entries for mash are still present; if not, try to restore things</li>
<li>Otherwise, create a Freshdesk ticket with a subject like “Repo update logs are too old on <HOST>” and with relevant details in the body</li>
<li>Assign the ticket to the “Software” group</li>
</ol>
</li>
</ol>
<h2 id="troubleshooting-and-mitigation">Troubleshooting and Mitigation</h2>
<h3 id="identifying-and-fixing-a-hung-mash-process">Identifying and fixing a hung mash process</h3>
<p>If a mash update process hangs, all future invocations from cron of the mash scripts will exit without taking action because of the hung process. Thus, it is important to identify and remove any hung processes so that future updates can proceed. Use the procedure below to remove any hung mash processes; doing so is safe in that it will not adversely affect the Yum repositories being served from the host.</p>
<ol>
<li>In the listing of log files (see above), view the file =update_all_repos.err=</li>
<li>
<p>In the error log file, look for messages such as:  </p>
<div class="codehilite"><pre><span></span><span class="err">Wed Jan 20 18:10:02 UTC 2016: **Can&#39;t acquire lock, is update_all_repos.sh already running?**</span>
</pre></div>


<p>This message indicates that the most recent update attempt quit early due to the presence of a lock file, most likely from a hung <em>mash</em> process.</p>
</li>
<li>
<p>Look for <em>mash</em> processes:  </p>
<div class="codehilite"><pre><span></span><span class="gp">root@host # </span>ps -C mash -o pid,ppid,pgid,start,command
<span class="go">  PID  PPID  PGID  STARTED COMMAND</span>
<span class="go">24551 24549 23455  Jan 15 /usr/bin/python /usr/bin/mash osg-3.1-el5-release -o</span>
<span class="go">24552 24551 23455  Jan 15 /usr/bin/python /usr/bin/mash osg-3.1-el5-release -o</span>
</pre></div>


</li>
<li>
<p>If there are <em>mash</em> processes that started on a previous date or more than 2 hours ago, it is best to remove their corresponding process groups (PGID above):  </p>
<div class="codehilite"><pre><span></span><span class="gp">root@host # </span><span class="nb">kill</span> -TERM -23455
</pre></div>


<p>Then verify that the old processes are gone using the same <em>ps</em> command as above:</p>
<div class="codehilite"><pre><span></span><span class="gp">root@host # </span>ps -C mash -o pid,ppid,pgid,start,command
<span class="go">PID  PPID  PGID  STARTED COMMAND</span>
</pre></div>


</li>
<li>
<p>If any part of this process does not look or work as expected:</p>
</li>
<li>Create a Freshdesk ticket with a subject like “Repo update logs are too old on <HOST>” and with relevant details in the body</li>
<li>Assign the ticket to the “Software” group</li>
</ol>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../services/topology/" title="Topology" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Topology
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.30f6b8b1.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:"../.."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-69012-29","opensciencegrid.github.io"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>